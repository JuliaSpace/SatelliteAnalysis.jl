<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Eclipse Time · Satellite Analysis</title><meta name="title" content="Eclipse Time · Satellite Analysis"/><meta property="og:title" content="Eclipse Time · Satellite Analysis"/><meta property="twitter:title" content="Eclipse Time · Satellite Analysis"/><meta name="description" content="Documentation for Satellite Analysis."/><meta property="og:description" content="Documentation for Satellite Analysis."/><meta property="twitter:description" content="Documentation for Satellite Analysis."/><meta property="og:url" content="https://juliaspace.github.io/SatelliteAnalysis.jl/stable/man/eclipse_time/"/><meta property="twitter:url" content="https://juliaspace.github.io/SatelliteAnalysis.jl/stable/man/eclipse_time/"/><link rel="canonical" href="https://juliaspace.github.io/SatelliteAnalysis.jl/stable/man/eclipse_time/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Satellite Analysis logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Satellite Analysis</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../beta_angle/">Beta Angle</a></li><li class="is-active"><a class="tocitem" href>Eclipse Time</a><ul class="internal"><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../../lib/library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Eclipse Time</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Eclipse Time</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSpace/SatelliteAnalysis.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSpace/SatelliteAnalysis.jl/blob/main/docs/src/man/eclipse_time.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Eclipse-Time"><a class="docs-heading-anchor" href="#Eclipse-Time">Eclipse Time</a><a id="Eclipse-Time-1"></a><a class="docs-heading-anchor-permalink" href="#Eclipse-Time" title="Permalink"></a></h1><p>The eclipse time is the period the satellite does not receive sunlight due to the Earth shadow. This information is paramount for mission design since it directly interferes in the power and thermal subsystems.</p><p>We can compute the eclipse time of a satellite using the function:</p><pre><code class="language-julia hljs">eclipse_time_summary(orbp::OrbitPropagator; kwargs...) -&gt; DataFrame</code></pre><p>This function computes the eclipse time summary for the orbit propagator <code>orbp</code>. The summary is computed as the total time the object stays in the sunlight, penumbra, and umbra regions per orbit at each day. The algorithm was adapted from <strong>[1]</strong>.</p><p>The following keywords are available:</p><ul><li><code>num_days::Number</code>: Number of days in which the analysis will be performed. (<strong>Default</strong> = 365)</li><li><code>step::Number</code>: The step in which the propagation will occur. Notice that this function has a crossing estimation to accurately estimate the transition between the regions. However, if this step is very large, we may miss some small regions. If it is negative, it will be selected as the time in which the mean anomaly advances 0.5°. (<strong>Default</strong> = -1)</li><li><code>unit::Symbol</code>: Select the unit in which the results will be generated. The possible values are:<ul><li><code>:s</code> for seconds (<strong>Default</strong>);</li><li><code>:m</code> for minutes; or</li><li><code>:h</code> for hours.</li></ul></li></ul><p>The function returns a <code>DataFrame</code> with three columns:</p><ul><li><code>sunlight</code>: Total sunlight time per orbit at each day [<code>unit</code>].</li><li><code>penumbra</code>: Total penumbra time per orbit at each day [<code>unit</code>].</li><li><code>umbra</code>: Total umbra time per orbit at each day [<code>unit</code>].</li></ul><p>The unit of each column is stored in the <code>DataFrame</code> using metadata.</p><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><p>We will compute the eclipse time of the Amazonia-1 mission for one year. The first thing we need to do is define the orbit:</p><pre><code class="language-julia-repl hljs">julia&gt; jd₀ = date_to_jd(2021, 1, 1)
2.4592155e6

julia&gt; orb = KeplerianElements(
           jd₀,
           7130.982e3,
           0.001111,
           98.405 |&gt; deg2rad,
           ltdn_to_raan(10.5, jd₀),
           π / 2,
           0
       )
KeplerianElements{Float64, Float64}:
           Epoch :    2.45922e6 (2021-01-01T00:00:00)
 Semi-major axis : 7130.98     km
    Eccentricity :    0.001111
     Inclination :   98.405    °
            RAAN :   78.4021   °
 Arg. of Perigee :   90.0      °
    True Anomaly :    0.0      °</code></pre><p>The next step is to define the desired propagator:</p><pre><code class="language-julia-repl hljs">julia&gt; orbp = Propagators.init(Val(:J2), orb)
OrbitPropagatorJ2{Float64, Float64}:
   Propagator name : J2 Orbit Propagator
  Propagator epoch : 2021-01-01T00:00:00
  Last propagation : 2021-01-01T00:00:00</code></pre><p>Now, we can use the function <code>eclipse_time_summary</code> to obtain the eclipse time information for each day of the year:</p><pre><code class="language-julia-repl hljs">julia&gt; df = eclipse_time_summary(orbp; unit = :m)
365×4 DataFrame
 Row │ date        sunlight  penumbra  umbra
     │ Date        Float64   Float64   Float64
─────┼─────────────────────────────────────────
   1 │ 2021-01-01   66.2105  0.340195  33.4493
   2 │ 2021-01-02   66.2308  0.340627  33.4285
   3 │ 2021-01-03   66.2461  0.340958  33.4129
   4 │ 2021-01-04   66.2623  0.341263  33.3964
  ⋮  │     ⋮          ⋮         ⋮         ⋮
 362 │ 2021-12-28   66.18    0.339203  33.4808
 363 │ 2021-12-29   66.1956  0.33955   33.4648
 364 │ 2021-12-30   66.2122  0.339889  33.4479
 365 │ 2021-12-31   66.2327  0.340339  33.4269
                               357 rows omitted</code></pre><p>Finally, we can use the <code>DataFrame</code> to analyze the result. For example, the maximum eclipse time in an orbit is:</p><pre><code class="language-julia-repl hljs">julia&gt; maximum(df.penumbra .+ df.umbra)
34.66395872764383</code></pre><p><em>i.e.</em>, 34.66 minutes.</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><ul><li><strong>[1]</strong> Longo, C. R. O., Rickman, S. L (1995). Method for the Calculation of Spacecraft Umbra and Penumbra Shadow Terminator Points. NASA Technical Paper 3547.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../beta_angle/">« Beta Angle</a><a class="docs-footer-nextpage" href="../../lib/library/">Library »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 13 December 2023 17:42">Wednesday 13 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
